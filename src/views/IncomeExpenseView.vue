<template>
  <DataTable
    title="Доход / Расход"
    description="Управление доходами и расходами"
    :headers="['Дата', 'Описание', 'Тип', 'Сумма']"
    :data="tableData"
    @add="handleAdd"
    @edit="handleEdit"
    @delete="handleDelete"
  />
</template>

<script setup lang="ts">
import { ref } from "vue";
import DataTable from "../components/DataTable.vue";

const tableData = ref([
  {
    Дата: "2024-11-15",
    Описание: "Продажа товара",
    Тип: "Доход",
    Сумма: "$7,500",
  },
  {
    Дата: "2024-11-14",
    Описание: "Закупка комплектующих",
    Тип: "Расход",
    Сумма: "$3,200",
  },
  {
    Дата: "2024-11-13",
    Описание: "Бонусы сотрудникам",
    Тип: "Расход",
    Сумма: "$2,000",
  },
  {
    Дата: "2024-11-12",
    Описание: "Поступление платежа",
    Тип: "Доход",
    Сумма: "$4,100",
  },
  {
    Дата: "2024-11-11",
    Описание: "Транспортировка грузов",
    Тип: "Расход",
    Сумма: "$850",
  },
  {
    Дата: "2024-11-10",
    Описание: "Продажа товара",
    Тип: "Доход",
    Сумма: "$5,250",
  },
  {
    Дата: "2024-11-09",
    Описание: "Закупка материалов",
    Тип: "Расход",
    Сумма: "$2,100",
  },
  {
    Дата: "2024-11-08",
    Описание: "Зарплата сотрудникам",
    Тип: "Расход",
    Сумма: "$8,500",
  },
  {
    Дата: "2024-11-07",
    Описание: "Доход от услуг",
    Тип: "Доход",
    Сумма: "$3,750",
  },
  {
    Дата: "2024-11-06",
    Описание: "Коммунальные услуги",
    Тип: "Расход",
    Сумма: "$450",
  },
  {
    Дата: "2024-11-05",
    Описание: "Консультационные услуги",
    Тип: "Доход",
    Сумма: "$1,200",
  },
  {
    Дата: "2024-11-04",
    Описание: "Аренда офиса",
    Тип: "Расход",
    Сумма: "$3,000",
  },
  {
    Дата: "2024-11-03",
    Описание: "Продажа оборудования",
    Тип: "Доход",
    Сумма: "$6,800",
  },
  {
    Дата: "2024-11-02",
    Описание: "Страховка",
    Тип: "Расход",
    Сумма: "$1,500",
  },
  {
    Дата: "2024-11-01",
    Описание: "Финальная продажа",
    Тип: "Доход",
    Сумма: "$9,200",
  },
]);

const handleAdd = () => {
  alert("Функция добавления: откроется форма для добавления новой записи");
};

const handleEdit = (row: Record<string, any>) => {
  alert(`Редактирование: ${JSON.stringify(row)}`);
};

const handleDelete = (row: Record<string, any>) => {
  const index = tableData.value.findIndex((item) => item === row);
  if (index > -1) {
    tableData.value.splice(index, 1);
  }
};
</script>
