<template>
  <DataTable
    title="Склад цех"
    description="Учет запасов производственного цеха"
    :headers="['Дата', 'Название товара', 'Количество', 'Расположение']"
    :data="tableData"
    @add="handleAdd"
    @edit="handleEdit"
    @delete="handleDelete"
  />
</template>

<script setup lang="ts">
import { ref } from "vue";
import DataTable from "../components/DataTable.vue";

const tableData = ref([
  {
    Дата: "2024-11-20",
    "Название товара": "Готовые капсулы №12",
    Количество: "1 200 шт",
    Расположение: "Цех • Линия 1",
  },
  {
    Дата: "2024-11-19",
    "Название товара": "Форма для стаканов",
    Количество: "6 шт",
    Расположение: "Цех • Участок прессовки",
  },
  {
    Дата: "2024-11-18",
    "Название товара": "Пищевой краситель",
    Количество: "45 кг",
    Расположение: "Цех • Химия",
  },
  {
    Дата: "2024-11-17",
    "Название товара": "Желатиновая смесь",
    Количество: "320 кг",
    Расположение: "Цех • Сырьевая",
  },
  {
    Дата: "2024-11-16",
    "Название товара": "Фольга для блистеров",
    Количество: "9 шт",
    Расположение: "Цех • Пакетирование",
  },
  {
    Дата: "2024-11-15",
    "Название товара": "Контрольные датчики",
    Количество: "14 шт",
    Расположение: "Цех • Сервисная",
  },
  {
    Дата: "2024-11-14",
    "Название товара": "Полиэтиленовые пакеты",
    Количество: "4 000 шт",
    Расположение: "Цех • Упаковка",
  },
  {
    Дата: "2024-11-13",
    "Название товара": "Сменные фильтры",
    Количество: "18 шт",
    Расположение: "Цех • Вентиляция",
  },
  {
    Дата: "2024-11-12",
    "Название товара": "Стеклянные пипетки",
    Количество: "350 шт",
    Расположение: "Цех • Качество",
  },
  {
    Дата: "2024-11-11",
    "Название товара": "Резервные контейнеры",
    Количество: "75 шт",
    Расположение: "Цех • Склад готовой",
  },
]);

const handleAdd = () => {
  alert("Функция добавления: откроется форма для добавления нового товара на склад");
};

const handleEdit = (row: Record<string, any>) => {
  alert(`Редактирование: ${JSON.stringify(row)}`);
};

const handleDelete = (row: Record<string, any>) => {
  const index = tableData.value.findIndex((item) => item === row);
  if (index > -1) {
    tableData.value.splice(index, 1);
  }
};
</script>
