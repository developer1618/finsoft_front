<template>
  <DataTable
    title="Цех стакана"
    description="Управление операциями цеха стакана"
    :headers="['Дата', 'Код продукта', 'Произведено', 'Качество', 'Статус']"
    :data="tableData"
    @add="handleAdd"
    @edit="handleEdit"
    @delete="handleDelete"
  />
</template>

<script setup lang="ts">
import { ref } from "vue";
import DataTable from "../components/DataTable.vue";

const tableData = ref([
  {
    Дата: "2024-11-15",
    "Код продукта": "CUP-015",
    Произведено: "2,700 шт",
    Качество: "99.4%",
    Статус: "active",
  },
  {
    Дата: "2024-11-14",
    "Код продукта": "CUP-014",
    Произведено: "2,450 шт",
    Качество: "99.1%",
    Статус: "active",
  },
  {
    Дата: "2024-11-13",
    "Код продукта": "CUP-013",
    Произведено: "2,900 шт",
    Качество: "99.7%",
    Статус: "pending",
  },
  {
    Дата: "2024-11-12",
    "Код продукта": "CUP-012",
    Произведено: "2,050 шт",
    Качество: "98.3%",
    Статус: "active",
  },
  {
    Дата: "2024-11-11",
    "Код продукта": "CUP-011",
    Произведено: "2,750 шт",
    Качество: "99.8%",
    Статус: "inactive",
  },
  {
    Дата: "2024-11-10",
    "Код продукта": "CUP-001",
    Произведено: "2,500 шт",
    Качество: "99.2%",
    Статус: "active",
  },
  {
    Дата: "2024-11-09",
    "Код продукта": "CUP-002",
    Произведено: "2,200 шт",
    Качество: "98.9%",
    Статус: "active",
  },
  {
    Дата: "2024-11-08",
    "Код продукта": "CUP-003",
    Произведено: "2,800 шт",
    Качество: "99.5%",
    Статус: "pending",
  },
  {
    Дата: "2024-11-07",
    "Код продукта": "CUP-004",
    Произведено: "1,950 шт",
    Качество: "98.1%",
    Статус: "inactive",
  },
  {
    Дата: "2024-11-06",
    "Код продукта": "CUP-005",
    Произведено: "2,650 шт",
    Качество: "99.6%",
    Статус: "active",
  },
  {
    Дата: "2024-11-05",
    "Код продукта": "CUP-006",
    Произведено: "2,400 шт",
    Качество: "99.0%",
    Статус: "active",
  },
  {
    Дата: "2024-11-04",
    "Код продукта": "CUP-007",
    Произведено: "2,100 шт",
    Качество: "98.7%",
    Статус: "pending",
  },
  {
    Дата: "2024-11-03",
    "Код продукта": "CUP-008",
    Произведено: "2,600 шт",
    Качество: "99.3%",
    Статус: "inactive",
  },
  {
    Дата: "2024-11-02",
    "Код продукта": "CUP-009",
    Произведено: "2,900 шт",
    Качество: "99.8%",
    Статус: "active",
  },
  {
    Дата: "2024-11-01",
    "Код продукта": "CUP-010",
    Произведено: "2,350 шт",
    Качество: "98.8%",
    Статус: "active",
  },
]);

const handleAdd = () => {
  alert("Функция добавления: откроется форма для добавления новой партии");
};

const handleEdit = (row: Record<string, any>) => {
  alert(`Редактирование: ${JSON.stringify(row)}`);
};

const handleDelete = (row: Record<string, any>) => {
  const index = tableData.value.findIndex((item) => item === row);
  if (index > -1) {
    tableData.value.splice(index, 1);
  }
};
</script>
